webpackJsonp([4],{220:function(t,e,a){a(718);var s=a(10)(a(702),a(745),null,null);s.options.__file="D:\\github\\talkingdata\\src\\views\\page\\page1\\event.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] event.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},390:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(64),i=s(n),o=a(37),r=s(o),c=a(5),l=(s(c),a(63)),u=s(l);e.default={directives:{clickoutside:u.default},props:{allData:{type:Array,required:!0},associativeArr:{type:Array,required:!0}},watch:{allData:function(){this.getAllListData()}},data:function(){return{AllListData:[],showListData:[],value:"",isShow:!0}},created:function(){this.getAllListData()},mounted:function(){},beforeDestroy:function(){},methods:{hideList:function(){this.isShow=!1,this.showListData.splice(2,0)},getAllListData:function(){var t=this,e=[];this.associativeArr.forEach(function(a){t.allData.forEach(function(t){e.push(t[a])})}),this.AllListData=[].concat((0,r.default)(new i.default(e)))},getShowListData:function(){var t=this;if(!this.value)return void(this.showListData=[]);this.showListData=this.AllListData.filter(function(e){return e=(e+"").toLowerCase(),e.indexOf((t.value+"").toLowerCase())>-1})},valueSerach:function(){this.searchData(this.value)},liSearch:function(t){this.isShow=!1,this.value=t,this.searchData(t),this.showListData.splice(2,0)},showOplist:function(){this.isShow=!0,this.showListData.splice(2,0)},searchData:function(t){this.$emit("searchData",t)},converStr:function(t){return isNaN(t)?t.toLowerCase():Number(t)}}}},645:function(t,e){},646:function(t,e,a){a(645);var s=a(10)(a(390),a(647),null,null);s.options.__file="D:\\github\\talkingdata\\src\\views\\components\\associative-search.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] associative-search.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},647:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hideList,expression:"hideList"}],staticClass:"associative-search"},[a("Input",{staticStyle:{width:"160px"},attrs:{placeholder:"搜索",shape:"circle",icon:"ios-search-strong"},on:{"on-change":t.getShowListData,"on-click":t.valueSerach,"on-enter":t.valueSerach,"on-focus":t.showOplist},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showListData.length&&t.isShow,expression:"showListData.length&&isShow"}],staticClass:"oplist-box"},[a("ul",{staticClass:"oplist"},t._l(t.showListData,function(e){return a("li",{key:e,attrs:{title:e},on:{click:function(a){t.liSearch(e)}}},[t._v(t._s(e))])}))])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},702:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(5),i=s(n),o=a(646),r=s(o);e.default={components:{associativeSearch:r.default},name:"event",data:function(){var t=this;return{loading:!0,dataCount:12,currentPage:1,loading1:!1,columns5:[{title:"事件名称",key:"name"},{title:"事件类型",key:"type"},{title:"平台",key:"osType",render:function(t,e){return t("div",[t("Button",{props:{type:"ghost",size:"small",icon:"Android"===e.row.osType?"social-android":"social-apple"},style:{marginRight:"5px",borderRadius:"100%"}})])}},{title:"事件数",key:"eventCount",sortable:!0},{title:"事件达成用户数",key:"deviceCount"},{title:"每启动发生次数",key:"eventAvg",sortable:!0},{title:"操作",key:"operate",render:function(e,a){return e("div",[e("Button",{props:{type:"ghost",size:"small",icon:"stats-bars",color:"#3399ff"},style:{marginRight:"5px",color:"#3399ff",borderRadius:"100%"},on:{click:function(){t.jump(a.row.name)}}})])}}],eventData:[],copyData:[],showData:[],searchContent:"全部事件",associativeArr:["name"],eventList:["全部事件","灵动事件","标准事件","自定义事件"]}},created:function(){this.$store.commit("showRightFilter",{isShow:!0}),this.$store.commit("channelShow",{isShow:!0}),this.getEventCount()},computed:{checkedData:function(){return this.$store.state.app.checkedPlatform},isFiltersHandle:function(){return this.$store.state.app.isFiltersHandle},startDate:function(){return this.$store.state.app.startDate},endDate:function(){return this.$store.state.app.endDate},checkedVersion:function(){return this.$store.state.app.checkedVersion},isChangeDate:function(){return this.$store.state.app.isChangeDate},checkedAccesskey:function(){return this.$store.state.app.checkedAccesskey},checkedChannel:function(){return this.$store.state.app.checkedChannel}},watch:{isFiltersHandle:function(){this.filterData()},isChangeDate:function(){this.filterData()}},methods:{filterData:function(){this.showData=[],this.getEventCount()},changepage:function(t){var e=t||1;this.dataCount=this.copyData.length,this.showData=this.copyData.slice(10*(e-1),10*e)},changeSort:function(t){"normal"!=t.order?this.copyData.sort(i.default.compare(t.key,t.order)):this.copyData=this.eventData,this.changepage(1),this.currentPage=1},exportData:function(){var t=i.default.dateFtt("yyyy-MM-dd",new Date)+this.checkedData;this.$refs.channelTable.exportCsv({filename:"事件分析_"+t})},jump:function(t){this.$router.push({path:"eventDetail",query:{name:"click"}})},getEventCount:function(){var t=this,e={accessKey:this.$store.state.app.checkedAccesskey,appVersion:this.$store.state.app.checkedVersion,beginDate:this.$store.state.app.startDate,endDate:this.$store.state.app.endDate,platform:this.$store.state.app.checkedPlatform,channel:this.$store.state.app.checkedChannel};this.loading=!0,this.$axios.post("https://easy-mock.com/mock/5a9a40acfdc65f3e22abbdee/tk/event/getEventCount",e).then(function(e){0==e.data.code&&(t.dataCount=e.data.data.length,t.eventData=e.data.data,t.copyData=i.default.deepClone(t.eventData),t.changepage(1),t.loading=!1)},function(t){console.log(t+".......")})},ifIndexof:function(t,e){e=(e+"").toLowerCase();var a=0;return this.associativeArr.forEach(function(s){(t[s]+"").toLowerCase().indexOf(e)>-1&&a++}),!!a},searchData:function(t){var e=this;if(t){this.copyData=this.eventData.filter(function(a){return e.ifIndexof(a,t)})}else this.copyData=this.eventData;this.changepage(1),this.currentPage=1},selectType:function(t){this.searchContent=t,"全部事件"==t?this.filterData():"自定义事件"==t&&console.log(222)}}}},718:function(t,e){},745:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"analytics-wrap"},[t._m(0),t._v(" "),a("div",{staticClass:"analytics-view"},[a("Row",{staticClass:"analytics-view-title",staticStyle:{"border-bottom":"none"}},[a("Col",{staticStyle:{"text-align":"right","line-height":"16px",float:"right","border-bottom":"none"},attrs:{span:"12"}},[a("div",{staticClass:"account-content-operate-search"},[t.eventData.length?a("associativeSearch",{attrs:{allData:t.eventData,associativeArr:t.associativeArr},on:{searchData:t.searchData}}):t._e(),t._v(" "),a("Icon",{staticClass:"fontS18",staticStyle:{cursor:"pointer","margin-left":"10px","font-size":"18px"},attrs:{type:"ios-download-outline"},nativeOn:{click:function(e){t.exportData(e)}}}),t._v(" "),a("Poptip",{attrs:{trigger:"hover",placement:"bottom-end"}},[a("Icon",{staticClass:"fontS18",staticStyle:{cursor:"pointer","margin-left":"10px","font-size":"18px"},attrs:{type:"ios-help-outline"}}),t._v(" "),a("div",{attrs:{slot:"title"},slot:"title"},[t._v("数据指标说明")]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[a("span",[t._v("事件数")]),t._v(": 所选日期内，事件发生的次数。")]),t._v(" "),a("p",{staticClass:"bg"},[a("span",[t._v("事件达成用户数")]),t._v(": 所选日期内，触发某事件的设备数。")]),t._v(" "),a("p",[a("span",[t._v("每启动发生次数")]),t._v(": 所选日期内，平均每次使用应用期间触发该事件的次数。")]),t._v(" "),a("p",{staticClass:"bg"},[t._v("注：为了保证运算速度，我们只提供最近一年的自定义事件相关数据。如需更多，请联系我们。")])])],1)],1)])],1),t._v(" "),a("Table",{attrs:{columns:t.columns5,data:t.showData,loading:t.loading},on:{"on-sort-change":t.changeSort},nativeOn:{click:function(t){t.stopPropagation()}}}),t._v(" "),a("Table",{ref:"channelTable",staticStyle:{display:"none"},attrs:{columns:t.columns5,data:t.eventData}}),t._v(" "),a("div",{staticStyle:{margin:"10px"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.dataCount,current:t.currentPage},on:{"update:current":function(e){t.currentPage=e},"on-change":t.changepage}})],1)])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview"},[a("h1",[t._v("事件分析")])])}]},t.exports.render._withStripped=!0}});